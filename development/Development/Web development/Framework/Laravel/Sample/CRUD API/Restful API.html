<ol><li><span style="font-size: small;">Setup database and create table&nbsp;<br><br></span><table class="table" border="1" cellspacing="1" cellpadding="1" style="width: 100%;" align=""><tbody><tr><td><span style="font-size: small;"><span style="font-weight: bold;">Step 1 : Setup database&nbsp;<br></span><br></span><ul><li><span style="font-size: small;">Create new database&nbsp;</span></li><li><span style="font-size: small;">Change .env configuration&nbsp;<br><br></span></li></ul></td></tr><tr><td><span style="font-size: small;"><span style="font-weight: bold;">Step 2 : Create table by using migration file ( Refer to sample migration file )&nbsp;</span><br><br></span><ul style=""><li style=""><span style="font-size: small;">Run command : php artisan make:migration users_table</span></li><li style=""><span style="font-size: small;">Create table column for the migration&nbsp;<br><br></span></li></ul></td></tr></tbody></table><span style="font-size: small;"><br></span></li><li><span style="font-size: small;">Create model for the table&nbsp;<br><br><br></span><table class="table" border="1" cellspacing="1" cellpadding="1" align="" style="width: 956px;"><tbody><tr><td style="line-height: 1.42857;"><span style="font-size: small;"><span style="font-weight: bold;">Step 1&nbsp; : Create model for the table&nbsp;<br></span><br></span><ul><li><span style="font-size: small;">Run command : php artisan make:model Users</span></li></ul><span style="font-size: small;"><br></span></td></tr><tr><td><span style="font-weight: bold; font-size: small;">Step 2 : add fillable to the model file ( App / Users.php )&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; font-weight: normal; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); border-radius: 3px; font-family: monospace; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-class" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">class</span><span style="color: rgb(101, 123, 131);"> </span><span style="color: rgb(181, 137, 0);">Users </span><span class="hljs-keyword" style="color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">extends</span><span style="color: rgb(101, 123, 131);"> </span><span class="hljs-title" style="color: rgb(181, 137, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">Model</span><span style="color: rgb(101, 123, 131);">
{</span></span><span style="color: rgb(101, 123, 131);">
    </span><span class="hljs-keyword" style="color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">protected</span><span style="color: rgb(101, 123, 131);"> </span><span class="hljs-variable" style="color: rgb(181, 137, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">$fillable</span><span style="color: rgb(101, 123, 131);"> = [</span><span class="hljs-string" style="color: rgb(42, 161, 152); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">'column_1'</span><span style="color: rgb(101, 123, 131);">, </span><span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'column_2'<span style="color: rgb(101, 123, 131);">];
</span>    protected $primaryKey = 'userID';
    protected $table = 'users';<br></span><span style="color: rgb(101, 123, 131);">}</span></code></pre></span></td></tr></tbody></table><span style="font-size: small;"><br></span></li><li><span style="font-size: small;">Setup controller for the API call<br><br><br></span><table class="table" border="1" cellspacing="1" cellpadding="1" align="" style="width: 956px;"><tbody><tr><td style="line-height: 1.42857;"><span style="font-size: small;">&nbsp;<span style="font-weight: bold;">Step 1 : Create controller&nbsp;<br></span><br></span><ul><li><span style="font-size: small;">php artisan make:controller ApiController</span></li></ul><span style="font-size: small;"><br></span></td></tr><tr><td><font size="2">&nbsp;<b>Step 2 : Add content to controller file ( App / Http / Controller / ApiController.php )&nbsp;</b></font><br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); border-radius: 3px; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-class" style="font-family: monospace; font-size: small; font-weight: normal; margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">class</span><span style="color: rgb(101, 123, 131);"> </span><span style="color: rgb(181, 137, 0);">ApiController </span><span class="hljs-keyword" style="color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">extends</span><span style="color: rgb(101, 123, 131);"> </span><span class="hljs-title" style="color: rgb(181, 137, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">Controller</span><span style="color: rgb(101, 123, 131);">
{</span></span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
    </span><span class="hljs-keyword" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">public</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);"> </span><span class="hljs-function" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">getAllUser</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">()</span>
    {</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
        </span><span class="hljs-keyword" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">return</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);"> Users::all();
    }
 
    </span><span class="hljs-keyword" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">public</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);"> </span><span class="hljs-function" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> </span><span class="hljs-function" style="font-family: monospace; font-size: small; font-weight: normal; margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span style="color: rgb(38, 139, 210);">searchUser</span><span class="hljs-params" style="color: rgb(101, 123, 131); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$id</span>)</span><span style="color: rgb(101, 123, 131);">
    {</span></span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
         $user = User::find($id);
         return $user;<br></span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
    }

    </span><span class="hljs-keyword" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">public</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);"> </span><span class="hljs-function" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">createUser</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Request <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>)</span>
    {
</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
        $users= Users::create(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>-&gt;all());</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
        return response()-&gt;json(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$users</span>, <span class="hljs-number" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">201</span>);<br>
    }

    </span><span class="hljs-keyword" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">public</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);"> </span><span class="hljs-function" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">updateUser</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Request <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>,<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$id</span>)</span>
    {
</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">        $users = Users::find($id);
        </span><span class="hljs-variable" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(181, 137, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">$users</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">-&gt;update(</span><span class="hljs-variable" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(181, 137, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">$request</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">-&gt;all());
        </span><span class="hljs-keyword" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">return</span><span class="hljs-keyword" style="font-family: monospace; font-size: small; font-weight: normal; margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(101, 123, 131);"> response()-&gt;json($users,200);</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
    }

    </span><span class="hljs-keyword" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(133, 153, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">public</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);"> </span><span class="hljs-function" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">deleteUser</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Users <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$id</span>)</span>
    {</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
        </span><span class="hljs-variable" style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(181, 137, 0); margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">$article</span><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">-&gt;delete();
        </span><font color="#859900" face="monospace">return response()-&gt;json(['success'=&gt;true,'desc'=&gt;$id-&gt;content.'deleted']);</font><span style="font-family: monospace; font-size: small; font-weight: normal; color: rgb(101, 123, 131);">
    }
}</span></code></pre></td></tr></tbody></table><span style="font-size: small;"><br><br></span></li><li><span style="font-size: small;">Setup API call request&nbsp;<br><br><br></span><table class="table" border="1" cellspacing="1" cellpadding="1" align="" style="width: 956px;"><tbody><tr><td style="line-height: 1.42857;"><span style="font-size: small;">&nbsp;<span style="font-weight: bold;">Step 1 : Add CRUD request to API file ( routes / api.php )&nbsp;<br></span><br></span><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); background-color: rgb(255, 255, 255);"><span style="font-size: small;"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; line-height: 1.5em; max-width: 100%; width: 864px;">Route::get(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'users'</span>, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'ApiController@getAllUser'<span style="color: rgb(101, 123, 131);">);</span><br></span>Route::get(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'users/{id}'<span style="color: rgb(101, 123, 131);">, </span><span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">'ApiController@searchUser'<span style="color: rgb(101, 123, 131);">);</span></span><br></span>Route::post(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'users'<span style="color: rgb(101, 123, 131);">, </span><span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">'ApiController@createUser'<span style="color: rgb(101, 123, 131);">);</span></span><br></span>Route::put(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'users/{id}'<span style="color: rgb(101, 123, 131);">, </span><span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">'ApiController@updateUser'<span style="color: rgb(101, 123, 131);">);</span></span><br></span>Route::delete(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'users/{id}'<span style="color: rgb(101, 123, 131);">, </span><span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">'ApiController@deleteUser);</span><br></span></code><br></span></pre><span style="font-size: small;"><br></span></td></tr><tr><td><span style="font-size: small;">&nbsp;<span style="font-weight: bold;">Step 2 : Test API call&nbsp;</span><br><br></span><ul style=""><li style=""><span style="font-size: small;">You can test it on the url&nbsp; ( localhost:8000/api/users )&nbsp;</span></li></ul><span style="font-size: small;"><br></span></td></tr></tbody></table><span style="font-size: small;"><br><br></span></li><li><span style="font-size: small;">Exception handle for 404 page&nbsp;<br><br><br></span><table class="table" border="1" cellspacing="1" cellpadding="1" align="" style="width: 956px;"><tbody><tr><td style="line-height: 1.42857;"><span style="font-size: small;">&nbsp;<span style="font-weight: bold;">Step 1 : Add exception handler in ( app / Exception/ Handler.php )&nbsp;<br><br></span></span><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; line-height: 1.5em; max-width: 100%; width: 864px; font-size: small;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">public</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">render</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>, Exception <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$exception</span>)</span>
{</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// This will replace our 404 response with</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// a JSON response.</span>
    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">if</span> (<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$exception</span> <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">instanceof</span> ModelNotFoundException &amp;&amp;
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>-&gt;wantsJson())
    {
        <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> response()-&gt;json([
            <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'data'</span> =&gt; <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'Data not found'</span>
        ], <span class="hljs-number" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">404</span>);
    }

    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">parent</span>::render(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>, <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$exception</span>);
}</code></pre></td></tr></tbody></table><span style="font-size: small;"><br><br></span></li><li><span style="font-size: small;">Authentication&nbsp;<br><br></span><table class="table" border="1" cellspacing="1" cellpadding="1" align="" style="width: 956px;"><tbody><tr><td style="line-height: 1.42857;"><span style="font-size: small;">&nbsp;<b style="">Step 1 : Add api_token to users table ( if don't have user table ** )&nbsp;<br><br></b></span><pre style="padding: 0px; margin-bottom: 1em; line-height: 1.42857; color: rgb(48, 48, 48); background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px;"><code style="font-family: monospace; padding: 2px 5px; background: rgb(255, 255, 252); border-radius: 3px; margin: 0px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; line-height: 1.5em; max-width: 100%; width: 864px; overflow-x: auto; font-size: small;">php artisan make:migration --table=users adds_api_token_to_users_table</code></pre></td></tr><tr><td><span style="font-size: small;">&nbsp;<span style="font-weight: bold;">Step 2 : Add content to migration&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-weight: normal; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">public</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">up</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">()</span>
{</span>
    Schema::table(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'users'</span>, <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Blueprint <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$table</span>)</span> {</span>
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$table</span>-&gt;string(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'api_token'</span>, <span class="hljs-number" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">60</span>)-&gt;unique()-&gt;nullable();
    });
}

<span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">public</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">down</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">()</span>
{</span>
    Schema::table(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'users'</span>, <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Blueprint <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$table</span>)</span> {</span>
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$table</span>-&gt;dropColumn([<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'api_token'</span>]);
    });
}</code></pre></span></span></td></tr><tr><td><span style="font-size: small;">&nbsp;<span style="font-weight: bold;">S<span style="font-family: arial, helvetica, sans-serif;">tep 3 : Run m</span>igration&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-weight: normal; background-color: rgb(255, 255, 255);"><code style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; border-radius: 3px; background: rgb(255, 255, 252); display: inline-block; font-family: monospace; line-height: 1.5em; max-width: 100%; width: 864px; overflow-x: auto;">php artisan migrate</code></pre></span></span></td></tr><tr><td><span style="font-size: small;">&nbsp;</span><span style="font-size: small; font-weight: bold;">Step 4 : Create register endpoint&nbsp;</span><br><br><ul style=""><li style=""><span style="font-size: small;">Create registerController&nbsp;<br><br></span></li><li style=""><span style="font-size: small;">Add register function in the controller&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-size: 15px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; font-size: 0.9em; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">public</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">register</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Request <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>)</span>
{</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// Here the request is validated. The validator method is located</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// inside the RegisterController, and makes sure the name, email</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// password and password_confirmation fields are required.</span>
    <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;validator(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>-&gt;all())-&gt;validate();

    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// A Registered event is created and will trigger any relevant</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// observers, such as sending a confirmation email or any </span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// code that needs to be run as soon as the user is created.</span>
    event(<span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">new</span> Registered(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span> = <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;create(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>-&gt;all())));

    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// After the user is created, he's logged in.</span>
    <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;guard()-&gt;login(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>);

    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// And finally this is the hook that we want. If there is no</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// registered() method or it returns null, redirect him to</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// some other URL. In our case, we just need to implement</span>
    <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// that method to return the correct response.</span>
    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;registered(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>, <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>)
                    ?: redirect(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;redirectPath());
}</code></pre></span></li><li style=""><span style="font-size: small;">Add registered function in the controller&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-size: 15px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; font-size: 0.9em; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">protected</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">registered</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Request <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>, <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>)</span>
{</span>
    <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>-&gt;generateToken();

    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> response()-&gt;json([<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'data'</span> =&gt; <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>-&gt;toArray()], <span class="hljs-number" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">201</span>);
}</code></pre><br></span></li><li style=""><span style="font-size: small;">Add generateToken function in the model&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-size: 15px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; font-size: 0.9em; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-class" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">User</span> <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">extends</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">Authenticatable</span>
{</span>
    ...
    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">public</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">generateToken</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">()</span>
    {</span>
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;api_token = str_random(<span class="hljs-number" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">60</span>);
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;save();

        <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;api_token;
    }
}</code></pre><br></span></li><li style=""><span style="font-size: small;">Add route request&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-size: 15px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; font-size: 0.9em; line-height: 1.5em; max-width: 100%; width: 864px;">Route::post(register, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'Auth\RegisterController@register);</span></code></pre><br><br></span></li></ul></td></tr><tr><td><span style="font-size: small;">&nbsp;</span><span style="font-size: small; font-weight: bold;">Step 5 : Create login endpoint&nbsp;<br></span><br><ul style=""><li style=""><span style="font-size: small;">Create loginController&nbsp;<br><br></span></li><li style=""><span style="font-size: small;">add login function into the controller<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-size: 15px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; font-size: 0.9em; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">public</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">login</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Request <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>)</span>
{</span>
    <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;validateLogin(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>);

    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">if</span> (<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;attemptLogin(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>)) {
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span> = <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;guard()-&gt;user();
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>-&gt;generateToken();

        <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> response()-&gt;json([
            <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'data'</span> =&gt; <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>-&gt;toArray(),
        ]);
    }

    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$this</span>-&gt;sendFailedLoginResponse(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>);
}</code></pre><br></span></li><li style=""><span style="font-size: small;">add route request&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-size: 15px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; font-size: 0.9em; line-height: 1.5em; max-width: 100%; width: 864px;">Route::post(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'login'</span>, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'Auth\LoginController@login'</span>);</code></pre></span></li></ul><br></td></tr><tr><td><span style="font-size: small;">&nbsp;</span><span style="font-size: small; font-weight: bold;">Step 6 : Create logout endpoint</span><br><br><ul style=""><li style=""><span style="font-size: small;">Create logoutController&nbsp;<br><br></span></li><li style=""><span style="font-size: small;">add logout function to controller&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-size: 15px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; font-size: 0.9em; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">public</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">logout</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Request <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>)</span>
{</span>
    <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span> = Auth::guard(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'api'</span>)-&gt;user();

    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">if</span> (<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>) {
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>-&gt;api_token = <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">null</span>;
        <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$user</span>-&gt;save();
    }

    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> response()-&gt;json([<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'data'</span> =&gt; <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'User logged out.'</span>], <span class="hljs-number" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">200</span>);
}</code></pre><br></span></li><li style=""><span style="font-size: small;">add route request&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-size: 15px; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; font-size: 0.9em; line-height: 1.5em; max-width: 100%; width: 864px;">Route::post(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'logout'</span>, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'Auth\LoginController@logout'</span>);</code></pre><br></span></li></ul><br></td></tr></tbody></table><span style="font-size: small;"><br><br></span></li><li><span style="font-size: small;">Restrict access by using middleware<br><br><br></span><table class="table" border="1" cellspacing="1" cellpadding="1" align="" style="width: 956px;"><tbody><tr><td style="line-height: 1.42857;"><span style="font-size: small;">&nbsp;<b>Step 1 : Edit the handler file&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-weight: normal; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; line-height: 1.5em; max-width: 100%; width: 864px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">protected</span> <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-title" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(38, 139, 210);">unauthenticated</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(<span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>, AuthenticationException <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$exception</span>)</span>
{</span>
    <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> response()-&gt;json([<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'error'</span> =&gt; <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'Unauthenticated'</span>], <span class="hljs-number" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">401</span>);
}</code></pre></b></span></td></tr><tr><td><span style="font-size: small;">&nbsp;<span style="font-weight: 700;">We can access current user by&nbsp;</span><br style=""><br style=""></span><pre style="padding: 0px; margin-bottom: 1em; line-height: 1.42857; color: rgb(48, 48, 48); background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px;"><code class="language-php hljs" style="font-family: monospace; padding: 2px 5px; color: rgb(101, 123, 131); background: rgb(255, 255, 252); border-radius: 3px; margin: 0px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; line-height: 1.5em; max-width: 100%; width: 864px; font-size: small;">get(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'/user'</span>, <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span> <span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">(Request <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>)</span> {</span>
        <span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">return</span> <span class="hljs-variable" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(181, 137, 0);">$request</span>-&gt;user();
    }</code></pre><span style="font-size: small;">or&nbsp;<br style=""><br style=""></span><pre style="padding: 0px; margin-bottom: 1em; line-height: 1.42857; color: rgb(48, 48, 48); background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px;"><code class="language-php hljs" style="font-family: monospace; padding: 2px 5px; color: rgb(101, 123, 131); background: rgb(255, 255, 252); border-radius: 3px; margin: 0px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; line-height: 1.5em; max-width: 100%; width: 864px; font-size: small;">Auth::guard(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'api'</span>)-&gt;user(); <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// instance of the logged user</span>
Auth::guard(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'api'</span>)-&gt;check(); <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// if a user is authenticated</span>
Auth::guard(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'api'</span>)-&gt;id(); <span class="hljs-comment" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(147, 161, 161);">// the id of the authenticated user</span></code></pre></td></tr><tr><td><span style="font-size: small;">&nbsp;<b>Step 2 : Restrict the access for the API request&nbsp;<br><br><pre style="margin-bottom: 1em; padding: 0px; border-width: 0px; border-style: initial; border-color: initial; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(48, 48, 48); font-weight: normal; background-color: rgb(255, 255, 255);"><code class="language-php hljs" style="margin: 0px; padding: 2px 5px; border: 1px solid rgb(238, 238, 238); vertical-align: text-bottom; min-height: 0px; min-width: 0px; display: inline-block; overflow-x: auto; background: rgb(255, 255, 252); color: rgb(101, 123, 131); border-radius: 3px; font-family: monospace; line-height: 1.5em; max-width: 100%; width: 864px;">Route::group([<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'middleware'</span> =&gt; <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'auth:api'</span>], <span class="hljs-function" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;"><span class="hljs-keyword" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(133, 153, 0);">function</span><span class="hljs-params" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px;">()</span> {</span>
    Route::get(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'articles'</span>, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'ArticleController@index'</span>);
    Route::get(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'articles/{article}'</span>, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'ArticleController@show'</span>);
    Route::post(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'articles'</span>, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'ArticleController@store'</span>);
    Route::put(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'articles/{article}'</span>, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'ArticleController@update'</span>);
    Route::delete(<span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'articles/{article}'</span>, <span class="hljs-string" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; min-height: 0px; min-width: 0px; color: rgb(42, 161, 152);">'ArticleController@delete'</span>);
});</code></pre><br></b></span></td></tr></tbody></table><span style="font-size: small;"><br><br></span></li><li><span style="font-size: small;">Test&nbsp;<br><br></span><table class="table" border="1" cellspacing="1" cellpadding="1" align="" style="width: 956px;"><tbody><tr><td style="line-height: 1.42857;"><ul><li>Write test case : https://www.toptal.com/laravel/restful-laravel-api-tutorial&nbsp;<br><br></li><li>Test on postman<br><br></li><li>Test on curl : open git bash&nbsp;<br><br></li></ul></td></tr></tbody></table><span style="font-size: small;"><br></span><br></li></ol>